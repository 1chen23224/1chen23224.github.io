<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üçì ÂÆµÂ§ú</title>
<style>
  :root{
    --bg1:#fff0f6; --bg2:#fffaf0; --bg3:#f0f7ff;
    --accent:#ff4d88; --cream:#fff4fb;
  }
  html,body{height:100%; margin:0;}
  body{
    margin:0;
    font-family: "Comic Sans MS","Microsoft JhengHei",sans-serif;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(255,220,235,0.35), transparent 10%),
                radial-gradient(900px 500px at 90% 90%, rgba(230,245,255,0.5), transparent 12%),
                linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
    background-size:400% 400%;
    animation:bgShift 18s ease-in-out infinite;
    color:#5a2b3a;
    overflow:hidden;
    -webkit-font-smoothing:antialiased;
  }
  @keyframes bgShift{ 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }

  .wrap{width:100%; max-width:820px; margin:28px auto; text-align:center; position:relative; z-index:20;}
  h1{ margin:0 0 10px; font-size:2.2rem; background:linear-gradient(90deg,#ff6aa6,#ff8ecb,#ffd9f0); -webkit-background-clip:text; -webkit-text-fill-color:transparent; letter-spacing:0.6px; }
  .subtitle{margin-top:6px;color:#a04a6b; opacity:0.9;}

  .scene{position:relative; padding:32px 10px 80px;}
  .cake{ width:300px; max-width:86%; margin:26px auto; position:relative; cursor:pointer; transform-origin:center bottom; transition: transform .18s ease; filter: drop-shadow(0 18px 28px rgba(200,120,160,0.12)); }
  .cake.pop { transform: translateY(-6px) scale(1.02); }
  .msg { margin-top:10px; font-size:1.1rem; color:#b24f76; opacity:0.95; text-shadow:0 2px 6px rgba(255,200,220,0.35); }

  .falling { position:fixed; top:-140px; width:52px; height:auto; pointer-events:none; z-index:12; transform-origin:center; animation: fall linear forwards; will-change: transform, opacity; }
  @keyframes fall{ 0%{ transform: translateY(0) rotate(0deg); opacity:1; } 70%{ transform: translateY(78vh) rotate(200deg); opacity:1; } 100%{ transform: translateY(105vh) rotate(360deg); opacity:0.95; } }

  .particle{ position:fixed; pointer-events:none; font-size:18px; user-select:none; animation: particleUp .95s cubic-bezier(.2,.9,.2,1) forwards; z-index:40; font-weight:700; }
  @keyframes particleUp{ 0%{ transform: translateY(0) scale(1); opacity:1; } 100%{ transform: translateY(-84px) scale(.6); opacity:0; } }

  .spark{ position:fixed; width:6px;height:6px;border-radius:50%; background:linear-gradient(180deg,#fff,#ffe0f0); filter:blur(.2px); opacity:.9; pointer-events:none; z-index:6; animation: tw 2.6s ease-in-out infinite; }
  @keyframes tw{ 0%{transform:scale(.7);opacity:.25;} 50%{transform:scale(1.4);opacity:1;} 100%{transform:scale(.8);opacity:.3;} }

  .cake.super{ transform:translateY(-10px) scale(1.18); filter: drop-shadow(0 34px 44px rgba(200,120,160,0.18)); transition: transform .35s cubic-bezier(.2,.9,.2,1), filter .35s; }
  .firework{ position:fixed; width:6px; height:6px; border-radius:50%; pointer-events:none; z-index:50; animation: fw 900ms linear forwards; }
  @keyframes fw{ 0%{ transform: translateY(0) scale(1); opacity:1; } 100%{ transform: translateY(-180px) translateX(120px) scale(.6); opacity:0; } }

  .glow{ position:absolute; left:50%; top:16px; transform:translateX(-50%); width:240px; height:84px; pointer-events:none; background: radial-gradient(50% 40% at 50% 10%, rgba(255,220,235,0.85), transparent 40%); border-radius:50%; filter:blur(12px); z-index:25; opacity:.85; }

  .ownerBadge{ position:absolute; right:-6px; top:-6px; background:linear-gradient(90deg,#fff,#ffe8f1); border:1px solid rgba(255,120,160,0.22); color:#8f4663; padding:6px 8px; border-radius:12px; font-size:12px; box-shadow:0 6px 14px rgba(200,120,160,0.06); }

  /* small input pill (hidden by default) */
  .pill{ position:fixed; left:12px; bottom:12px; background:rgba(255,255,255,0.95); padding:8px 10px; border-radius:999px; box-shadow:0 6px 18px rgba(40,20,30,0.08); font-size:13px; }

  @media (max-width:520px){ .cake{ width:220px; } .particle{ font-size:16px; } .glow{ width:180px; height:64px; top:14px; } }
</style>
</head>
<body>
  <div class="wrap">
    <h1>üçì Êæ≥Â§ßÁ¨¨‰∏ÄËçâËéìËõãÁ≥ï</h1>
    <div class="subtitle">ËºïËºïÈªû‰∏Ä‰∏ãËõãÁ≥ïÔºåÊúÉÊúâÂ∞èÈ©öÂñú ‚ú®</div>

    <div class="scene" id="scene">
      <div class="glow" id="glow" aria-hidden="true"></div>

      <div class="cake" id="cake" role="img" aria-label="ËçâËéìËõãÁ≥ï">
        <svg viewBox="0 0 260 160" width="100%" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
          <defs>
            <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#fff1f6"/><stop offset="1" stop-color="#fff6fb"/></linearGradient>
            <linearGradient id="cakeFill" x1="0" x2="1"><stop offset="0" stop-color="#ffdfe7"/><stop offset="1" stop-color="#ffe7ef"/></linearGradient>
            <radialGradient id="shine" cx="30%" cy="20%" r="50%"><stop offset="0" stop-color="#ffffff" stop-opacity="0.9"/><stop offset="1" stop-color="#ffffff" stop-opacity="0"/></radialGradient>
          </defs>

          <ellipse cx="130" cy="142" rx="92" ry="12" fill="#fff7f9" stroke="#ffdbe8" />
          <rect x="40" y="68" rx="16" ry="16" width="180" height="62" fill="url(#cakeFill)" stroke="#ffbed1" />
          <path d="M40 74 Q68 40 100 74 T180 74 T220 74 L220 84 Q176 110 130 86 T100 86 T40 86 Z" fill="url(#g1)" opacity=".98"/>
          <ellipse cx="130" cy="56" rx="70" ry="36" fill="url(#g1)" stroke="#ffdfe8" />
          <ellipse cx="98" cy="44" rx="18" ry="8" fill="url(#shine)" opacity=".6"/>

          <g transform="translate(70,34) scale(.9)"><ellipse cx="0" cy="0" rx="12" ry="16" fill="#ff3b55"/><path d="M-9 -10 C -11 -16, 11 -16, 9 -10" fill="#2fb64a"/></g>
          <g transform="translate(130,28) scale(1)"><ellipse cx="0" cy="0" rx="14" ry="19" fill="#ff3b55"/><path d="M-10 -11 C -13 -18, 13 -18, 10 -11" fill="#32b64a"/></g>
          <g transform="translate(190,38) scale(.85)"><ellipse cx="0" cy="0" rx="11" ry="14" fill="#ff3b55"/><path d="M-8 -9 C -11 -14, 11 -14, 8 -9" fill="#39b64a"/></g>
        </svg>
        <div class="ownerBadge" id="ownerBadge" style="display:none;"></div>
      </div>

      <div class="msg" id="msg">ËºïÈªûËõãÁ≥ïÔºåÊî∂ÈõÜÂ∞èÈ©öÂñú ‚ú®</div>
    </div>

  </div>

<script>
/* ---------------------------
   QQ-style ÂèØÊÑõÊñáÂ≠óËàá emoji ÂàóË°®Ôºà‰∏çË°®ÁôΩÔºâ
----------------------------*/
const qqPhrases = [
  "Â•ΩQÔΩû (¬¥‚ñΩÔΩÄ)", "Q_Q Â•ΩÂèØÊÑõ", "Â•ΩQÂ•ΩÊÉ≥Âí¨‰∏ÄÂè£ÔΩû", "Àä·µïÀã Â•ΩÊ≤ªÁôí", "ÂìáÔΩûÂ•ΩÂ§¢Âπª o(‚âß‚ñΩ‚â¶)o", "Â•ΩÊÉ≥ÂÅ∑ÂêÉ‰∏ÄÂè£ QwQ",
  "Ë∂ÖÂèØÊÑõÔΩû ï‚Ä¢·¥•‚Ä¢ î", "Â•ΩÂ∞ëÂ•≥ÂøÉÔΩû", "ËêåÂà∞ÂÜíÊ≥°ÔΩû", "Â•ΩÊÉ≥‰∏ÄËµ∑ÂêÉüç∞"
];
const emojis = ["üçì","‚ú®","üç¨","üå∏","üç™"];

/* personalization via URL param: ?to=Â∞èÂêç */
function getParam(name){
  try{ const u = new URL(location.href); return u.searchParams.get(name); }catch(e){ return null; }
}
const toName = getParam('to');
if(toName){
  const badge = document.getElementById('ownerBadge');
  badge.textContent = `ÁâπÂà•ÁÇ∫ ${toName} Ê∫ñÂÇô`;
  badge.style.display = 'block';
  document.getElementById('msg').textContent = `ËºïÈªûÁµ¶ ${toName} ÁöÑÂ∞èÈ©öÂñú ‚ú®`;
}

/* audio lightly (disabled until user interacts) */
let audioReady=false;
function playTiny(freq,dur=0.05){ try{ const ctx=new (window.AudioContext||window.webkitAudioContext)(); const o=ctx.createOscillator(); const g=ctx.createGain(); o.type='sine'; o.frequency.value=freq; g.gain.value=0.02; o.connect(g); g.connect(ctx.destination); o.start(); setTimeout(()=>{ o.stop(); ctx.close(); }, dur*1000);}catch(e){} }

/* strawberry SVG */
const strawberrySVG = `<svg viewBox="0 0 50 60" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><ellipse cx="25" cy="30" rx="18" ry="22" fill="#ff3b55"/><path d="M25 10 C 18 14, 8 10, 12 6 C 6 8, 6 14, 14 12 C 10 18, 18 20, 25 14 C 32 20, 40 18, 36 12 C 44 14, 44 8, 38 6 C 42 10, 32 14, 25 10 Z" fill="#29b84a"/><ellipse cx="17" cy="18" rx="3" ry="5" fill="#fff" opacity="0.22"/></svg>`;

const activeSet = new Set();
function spawnStrawberry(){
  if(activeSet.size > 36) return;
  const el=document.createElement('div'); el.className='falling'; el.innerHTML=strawberrySVG;
  el.style.left = (Math.random()*86 + 6) + 'vw';
  const scale = (Math.random()*0.55) + 0.75; el.style.width = (52*scale) + 'px';
  const dur = (2.8 + Math.random()*2.2); el.style.animationDuration = dur+'s';
  document.body.appendChild(el); activeSet.add(el);
  el.addEventListener('animationend', ()=>{
    // landing -> maybe heart sparkle
    el.style.transition='transform .25s ease, opacity .28s ease'; el.style.transform+=' translateY(8px) scale(.92)'; el.style.opacity='0.92';
    if(Math.random() < 0.28){ const heart=document.createElement('div'); heart.className='particle'; heart.textContent='üíñ'; const r=el.getBoundingClientRect(); heart.style.left=(r.left + r.width/2)+'px'; heart.style.top=(window.innerHeight - 78)+'px'; document.body.appendChild(heart); setTimeout(()=>heart.remove(),1000); if(audioReady) playTiny(520,0.05); }
    else if(Math.random() < 0.22){ const s=document.createElement('div'); s.className='spark'; const r=el.getBoundingClientRect(); s.style.left=(r.left + r.width/2)+'px'; s.style.top=(window.innerHeight - 78)+'px'; s.style.width=s.style.height=(4 + Math.random()*4)+'px'; document.body.appendChild(s); setTimeout(()=>s.remove(),1100 + Math.random()*900); }
    setTimeout(()=>{ el.remove(); activeSet.delete(el); },420);
  }, {once:true});
}
setInterval(spawnStrawberry, 380);

/* background sparkles */
for(let i=0;i<24;i++){ const s=document.createElement('div'); s.className='spark'; s.style.left=(Math.random()*100)+'vw'; s.style.top=(Math.random()*100)+'vh'; s.style.animationDuration=(1.6 + Math.random()*2.2)+'s'; s.style.opacity=(0.25 + Math.random()*0.9); s.style.width=s.style.height=(3 + Math.random()*6)+'px'; document.body.appendChild(s); }

/* click particle */
const cake = document.getElementById('cake'); let clicks=0; let inSuper=false;
function spawnParticle(x,y){ const p=document.createElement('div'); p.className='particle'; if(Math.random() < 0.6){ p.textContent = qqPhrases[Math.floor(Math.random()*qqPhrases.length)]; p.style.fontSize = (14 + Math.random()*10) + 'px'; } else { p.textContent = emojis[Math.floor(Math.random()*emojis.length)]; p.style.fontSize = (18 + Math.random()*10) + 'px'; }
 p.style.left = (x + (Math.random()*48 - 24)) + 'px'; p.style.top = (y + (Math.random()*36 - 18)) + 'px'; document.body.appendChild(p); setTimeout(()=>p.remove(),1050); }

function firework(cx,cy){ const cols=['#ffd6e6','#fff7a8','#ffd9f0','#b3f5ff','#ffd3a6']; for(let i=0;i<14;i++){ const f=document.createElement('div'); f.className='firework'; f.style.left=cx+'px'; f.style.top=cy+'px'; f.style.background=cols[i%cols.length]; f.style.animationDuration = (700 + Math.random()*500) + 'ms'; document.body.appendChild(f); setTimeout(()=>f.remove(),1100); } }

function superMode(){ inSuper=true; cake.classList.add('super'); const rect=cake.getBoundingClientRect(); const cx=rect.left + rect.width/2; const cy=rect.top + rect.height/2; for(let k=0;k<4;k++){ setTimeout(()=>firework(cx + rnd(-40,40), cy + rnd(-10,50)), k*180); }
 const ring=document.createElement('div'); ring.style.position='fixed'; ring.style.left=(rect.left + rect.width/2 - rect.width*0.9/2)+'px'; ring.style.top=(rect.top + rect.height/2 - rect.height*0.9/2)+'px'; ring.style.width=(rect.width*0.9)+'px'; ring.style.height=(rect.height*0.9)+'px'; ring.style.borderRadius='16px'; ring.style.zIndex=22; ring.style.pointerEvents='none'; ring.style.background='conic-gradient(from 120deg, rgba(255,160,200,0.28), rgba(255,240,170,0.24), rgba(160,230,255,0.22), rgba(230,200,255,0.18))'; ring.style.filter='blur(22px)'; ring.style.opacity='0.9'; document.body.appendChild(ring); setTimeout(()=>{ ring.remove(); cake.classList.remove('super'); inSuper=false; clicks=0; },4200);
}

/* helper rnd */
function rnd(a,b){ return a + Math.random()*(b-a); }

function onCakeClick(e){ if(!audioReady){ audioReady=true; playTiny(660,0.05); }
 cake.classList.add('pop'); setTimeout(()=>cake.classList.remove('pop'),160);
 for(let i=0;i<6;i++){ setTimeout(()=>spawnParticle(e.clientX, e.clientY), i*60); }
 if(audioReady) playTiny(760 - Math.random()*140,0.05);
 clicks++; if(clicks === 10 && !inSuper){ superMode(); }
}

cake.addEventListener('click', onCakeClick);
cake.addEventListener('mouseenter', ()=>{ cake.style.transform='translateY(-4px)'; });
cake.addEventListener('mouseleave', ()=>{ cake.style.transform=''; });

// accessibility
cake.setAttribute('tabindex','0'); cake.addEventListener('keydown',(e)=>{ if(e.key==='Enter' || e.key===' ') { const r=cake.getBoundingClientRect(); onCakeClick({ clientX: r.left + r.width/2, clientY: r.top + r.height/2 }); } });

// double-tap quick burst mobile
let lastTap=0; document.addEventListener('touchstart',(ev)=>{ const now=Date.now(); if(now - lastTap < 280){ for(let i=0;i<6;i++) setTimeout(spawnStrawberry, i*60); } lastTap = now; });

// safety purge
setInterval(()=>{ if(activeSet.size > 70){ const arr=Array.from(activeSet); for(let i=0;i<12 && arr[i]; i++){ arr[i].remove(); activeSet.delete(arr[i]); } } }, 2000);

</script>
</body>
</html>
