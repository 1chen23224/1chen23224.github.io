<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ“ æçš„çƒ˜ç„™åŠğŸ°</title>
  <style>
    :root{
      --bg1:#ffe6f0; --bg2:#fff5e6;
      --accent:#ff4d88;
    }
    html,body{height:100%; margin:0;}
    body {
      margin: 0;
      font-family: "Comic Sans MS", "Microsoft JhengHei", sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      text-align: center;
      overflow: hidden; /* ä¸è¦å‡ºç¾æ²è»¸ */
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      user-select:none;
    }

    h1{
      margin: 36px 0 10px;
      color:var(--accent);
      font-size:2.6rem;
      animation: bounce 1s infinite alternate;
    }
    @keyframes bounce{
      from {transform: translateY(0);}
      to {transform: translateY(-8px);}
    }

    .scene {
      position: relative;
      width: 100%;
      max-width: 760px;
      margin: 0 auto;
      z-index: 10;
    }

    .cake {
      width: 260px;
      margin: 18px auto;
      position: relative;
      z-index: 20;
      animation: wiggle 1.6s infinite ease-in-out;
    }
    @keyframes wiggle{
      0%{ transform: rotate(0deg); }
      25%{ transform: rotate(2deg); }
      50%{ transform: rotate(-2deg); }
      100%{ transform: rotate(0deg); }
    }

    .msg {
      font-size: 1.6rem;
      color: #ff6699;
      margin-top: 10px;
      animation: glow 1.6s infinite alternate;
    }
    @keyframes glow {
      from { text-shadow: 0 0 4px #ffd0e0; }
      to { text-shadow: 0 0 12px #ff88b3; }
    }

    .controls {
      margin-top: 18px;
      display:flex;
      justify-content:center;
      gap:12px;
      align-items:center;
    }

    .button {
      background: linear-gradient(180deg,#ff9ab3,#ff6a90);
      color:white;
      border: none;
      padding: 12px 20px;
      border-radius: 24px;
      font-size:1.05rem;
      cursor:pointer;
      box-shadow: 0 6px 14px rgba(255,80,120,0.15);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .button:active{ transform: translateY(2px) scale(.99); }
    .small {
      background: transparent;
      border: 2px dashed rgba(255,90,140,0.25);
      color: var(--accent);
      padding:8px 12px;
      border-radius: 12px;
    }

    /* ---------- è‰è“é›¨ï¼ˆæ•´å€‹ç•«é¢ç”Ÿæˆçš„å®¹å™¨å…ƒç´ ï¼‰ ---------- */
    .falling-strawberry {
      position: fixed;
      top: -120px;
      width: 56px;              /* è¨­å®š SVG çš„é¡¯ç¤ºå¤§å° */
      height: auto;
      pointer-events: none;
      z-index: 5;
      transform-origin: center;
      /* ä½¿ç”¨ CSS è®Šæ•¸ä¾†æ§åˆ¶å–®é¡†æ™‚é–“ï¼ŒJS æœƒè¨­å®š --dur */
      animation: fall var(--dur, 3.5s) linear forwards;
      will-change: transform, opacity;
    }

    @keyframes fall {
      0% { transform: translateY(0) rotate(0deg) scale(1); opacity:1; }
      85% { transform: translateY(98vh) rotate(360deg) scale(0.95); opacity:1; }
      100% { transform: translateY(110vh) rotate(720deg) scale(0.85); opacity:0.92; }
    }

    /* è£é£¾ç”¨å°è‰è“ï¼ˆcake ä¸Šï¼‰ */
    .deco-strawberry { width:44px; height:auto; display:inline-block; vertical-align:middle; }

    /* å°æé†’å­— */
    .hint { font-size: .9rem; color:#cc6a86; margin-top:6px; opacity:0.9; }

    /* å¯èª¿æ•´æœ€å¤šåŒæ™‚å‡ºç¾æ•¸é‡ã€éŸ¿æ‡‰å¼ç­‰ */
    @media (max-width:520px){
      .cake{ width:180px; }
      .falling-strawberry { width:40px; }
      h1{ font-size:1.8rem; }
      .msg{ font-size:1.25rem; }
    }
  </style>
</head>
<body>
  <h1>ğŸ“ å‘¢åˆ°æœ‰å…¨æ¾³é–€æœ€å¥½é£Ÿå˜…å£«å¤šå•¤åˆ©è›‹ç³• ğŸ°</h1>

  <div class="scene">
    <div class="cake" aria-hidden="true">
      <!-- å®Œå…¨å…§åµŒçš„ SVG è›‹ç³•ï¼ˆç„¡å¤–éƒ¨è³‡æºï¼‰ -->
      <svg viewBox="0 0 220 140" width="100%" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="è‰è“è›‹ç³•æ’ç•«">
        <!-- ç›¤å­ -->
        <ellipse cx="110" cy="128" rx="82" ry="10" fill="#fff1f6" stroke="#ffd7e8" />
        <!-- åº•å±¤è›‹ç³•é«” -->
        <rect x="32" y="70" rx="18" ry="18" width="156" height="56" fill="#ffd6e0" stroke="#ffb6ce"/>
        <!-- é®®å¥¶æ²¹å±¤ -->
        <path d="M32 70 Q56 48 80 70 T128 70 T176 70 T188 70 L188 74 Q166 92 132 74 T80 74 T32 74 Z" fill="#fff0f6" opacity="0.95"/>
        <!-- ä¸Šå±¤å¥¶æ²¹åœ“é ‚ -->
        <ellipse cx="110" cy="56" rx="62" ry="34" fill="#fff4fb" stroke="#ffd9ea"/>
        <!-- è‰è“ï¼ˆæ“ºåœ¨è›‹ç³•ä¸Šï¼‰ -->
        <!-- æˆ‘ç”¨åŒæ¨£çš„å‘é‡è‰è“é€ å‹å°åœ–ç¤º -->
        <g transform="translate(60,33) scale(0.9)">
          <g>
            <ellipse cx="0" cy="0" rx="10" ry="14" fill="#ff3b55"/>
            <path d="M-7 -8 C -9 -14, 9 -14, 7 -8 L 7 -8 L -7 -8 Z" fill="#3db64a"/>
            <circle cx="-2" cy="-1" r="0.8" fill="#fff8b0" />
            <circle cx="3" cy="1.5" r="0.7" fill="#fff8b0" />
          </g>
        </g>

        <g transform="translate(110,26) scale(1)">
          <g>
            <ellipse cx="0" cy="0" rx="12" ry="17" fill="#ff3b55"/>
            <path d="M-9 -10 C -11 -17, 11 -17, 9 -10 L 9 -10 L -9 -10 Z" fill="#2fb64a"/>
            <circle cx="-3" cy="-1" r="0.9" fill="#fff8b0" />
            <circle cx="4" cy="1.8" r="0.75" fill="#fff8b0" />
          </g>
        </g>

        <g transform="translate(160,36) scale(0.85)">
          <g>
            <ellipse cx="0" cy="0" rx="9.5" ry="13" fill="#ff3b55"/>
            <path d="M-6 -8 C -8 -13, 8 -13, 6 -8 L 6 -8 L -6 -8 Z" fill="#39b64a"/>
            <circle cx="-2" cy="-0.5" r="0.7" fill="#fff8b0" />
            <circle cx="3" cy="1.2" r="0.6" fill="#fff8b0" />
          </g>
        </g>

        <!-- å°äº®é» -->
        <circle cx="86" cy="82" r="1.2" fill="#ffffff" opacity=".9"/>
        <circle cx="130" cy="70" r="1.2" fill="#ffffff" opacity=".9"/>
      </svg>
    </div>

    <div class="msg">ğŸ’– å‘¢åˆ°æœ‰å£«å¤šå•¤åˆ©é›¨åŒè¶…å¥½é£Ÿæ—¢è›‹ç³•ï¼Œæ­¡è¿äº«ç”¨ï¼</div>

    <div class="controls">
      <button class="button" id="sayHungry">é»æˆ‘ä¸€ä¸‹ ğŸ´</button>
    </div>
  </div>

  <!-- ä¸‹é¢çš„ JS æœƒç”¢ç”Ÿå®Œå…¨å…§åµŒçš„è‰è“ SVGï¼Œä¸¦åœ¨ç•«é¢ä»»æ„ä½ç½®ç”¢ç”Ÿæ‰è½å‹•ç•« -->
  <script>
    // å…§åµŒè‰è“ SVG å­—ä¸²ï¼ˆä¸ç”¨å¤–éƒ¨åœ–ç‰‡ï¼‰
    const strawberrySVG = `
    <svg viewBox="0 0 50 60" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <g transform="translate(0,0)">
        <!-- è‰è“èº«é«” -->
        <ellipse cx="25" cy="30" rx="18" ry="22" fill="#ff3b55"/>
        <!-- è‘‰å­ -->
        <path d="M25 10 C 18 14, 8 10, 12 6 C 6 8, 6 14, 14 12 C 10 18, 18 20, 25 14 C 32 20, 40 18, 36 12 C 44 14, 44 8, 38 6 C 42 10, 32 14, 25 10 Z" fill="#29b84a"/>
        <!-- å°ç±½ -->
        <circle cx="20" cy="28" r="1.2" fill="#fff7a8" opacity="0.95"/>
        <circle cx="28" cy="33" r="1.05" fill="#fff7a8" opacity="0.95"/>
        <circle cx="22" cy="36" r="0.95" fill="#fff7a8" opacity="0.95"/>
        <circle cx="30" cy="25" r="0.95" fill="#fff7a8" opacity="0.95"/>
        <!-- é«˜å…‰ -->
        <ellipse cx="18" cy="20" rx="3.2" ry="5.2" fill="#ffffff" opacity="0.25"/>
      </g>
    </svg>`;

    // æ§åˆ¶åƒæ•¸ï¼šå¯ä»¥æ”¹é€™è£¡èª¿æ•´ä¸‹é›¨å¯†åº¦èˆ‡é€Ÿåº¦
    const SPAWN_INTERVAL_MS = 400; // æ¯é¡†è‰è“é–“éš”ï¼ˆæ¯«ç§’ï¼‰ï¼Œæ•¸å­—è¶Šå°é›¨è¶Šå¯†
    const MAX_SIMULTANEOUS = 24;   // åŒæ™‚å­˜åœ¨çš„è‰è“ä¸Šé™ï¼ˆé¿å…å¡ï¼‰
    const MIN_DURATION = 2.0;      // æ‰è½æœ€çŸ­ç§’æ•¸
    const MAX_DURATION = 4.2;      // æ‰è½æœ€é•·ç§’æ•¸

    let raining = true;
    const active = new Set();

    function makeFallingStrawberry() {
      // å¦‚è¶…éä¸Šé™å°±ä¸ç¹¼çºŒç”Ÿæˆ
      if (active.size >= MAX_SIMULTANEOUS) return;

      const wrapper = document.createElement('div');
      wrapper.className = 'falling-strawberry';
      // éš¨æ©Ÿæ°´å¹³ä½ç½®ï¼ˆå°å¹…åç§»é¿å…è²¼é‚Šï¼‰
      wrapper.style.left = (Math.random() * 92 + 2) + 'vw';
      // éš¨æ©Ÿå¯¬åº¦ç¸®æ”¾ï¼ˆè®“å¤§å°å¤šæ¨£ï¼‰
      const sizeScale = (Math.random() * 0.6) + 0.75; // 0.75 ~ 1.35
      wrapper.style.width = (56 * sizeScale) + 'px';
      // éš¨æ©Ÿå‹•ç•«æ™‚é•·
      const dur = (MIN_DURATION + Math.random() * (MAX_DURATION - MIN_DURATION)).toFixed(2) + 's';
      wrapper.style.setProperty('--dur', dur);
      // å…§åµŒ svg
      wrapper.innerHTML = strawberrySVG;

      // å°éš¨æ©Ÿå·¦å³æ–æ“ºï¼ˆç”¨ CSS transform åˆå§‹ä½ç§» + åœ¨å‹•ç•«ä¸­æ—‹è½‰ï¼‰
      wrapper.style.transform = `translateY(0) rotate(${Math.random()*360}deg)`;

      document.body.appendChild(wrapper);
      active.add(wrapper);

      // ç•¶å‹•ç•«çµæŸï¼Œåšå€‹è¼•å¾®ã€Œè½åœ°å½ˆã€æ•ˆæœå†ç§»é™¤ï¼ˆç”¨ JSï¼‰
      wrapper.addEventListener('animationend', () => {
        // è¼•å¾®ç¸®æ”¾èˆ‡æ…¢æ·¡å‡ºï¼Œç„¶å¾Œç§»é™¤
        wrapper.style.transition = 'transform .28s ease, opacity .32s ease';
        wrapper.style.transform += ' translateY(6px) scale(.92)';
        wrapper.style.opacity = '0.85';
        setTimeout(() => {
          wrapper.remove();
          active.delete(wrapper);
        }, 350);
      }, { once:true });
    }

    // è‡ªå‹•ä¸‹è‰è“é›¨ï¼ˆé–‹å•Ÿ/æš«åœï¼‰
    let spawnInterval = null;
    function startRain(){
      if (spawnInterval) clearInterval(spawnInterval);
      spawnInterval = setInterval(() => {
        if (raining) makeFallingStrawberry();
      }, SPAWN_INTERVAL_MS);
    }
    function stopRain(){
      if (spawnInterval) clearInterval(spawnInterval);
      spawnInterval = null;
    }

    // å•Ÿå‹•ï¼ˆDOM readyï¼‰
    document.addEventListener('DOMContentLoaded', () => {
      startRain(); // è‡ªå‹•é–‹å§‹ä¸‹è‰è“é›¨
    });

    // æŒ‰éˆ•äº‹ä»¶ï¼šè®“ã€Œå¥³å‹ã€èªªè©±ï¼ˆå½ˆå‡ºæç¤ºï¼‰
    document.getElementById('sayHungry').addEventListener('click', () => {
      alert('å¸Œæœ›å€’æ•¸å®Œä¹‹å‰æ•´å¾—å®Œ ğŸ“ğŸ°ğŸ’');
    });

    // æš«åœ / ç¹¼çºŒè‰è“é›¨
    document.getElementById('toggleRain').addEventListener('click', (e) => {
      raining = !raining;
      e.currentTarget.textContent = raining ? 'æš«åœè‰è“é›¨' : 'ç¹¼çºŒè‰è“é›¨';
      // è‹¥å·²ç¶“æš«åœï¼Œä¹Ÿå¯ä»¥æŠŠç•«é¢ä¸Šå‰©ä¸‹çš„è‰è“æ…¢æ…¢æ¸…æ‰ï¼ˆé¸æ“‡æ€§ï¼‰
      if (!raining){
        // æ¸…é™¤ç¾æœ‰ï¼ˆç¶­æŒå¹¾é¡†å‹•ç•«å®Œç•¢å¾Œè‡ªå‹•ç§»é™¤ï¼‰
        // optional: ä¸ç«‹å³å¼·åˆ¶åˆªé™¤ï¼Œä¿ç•™é€å€‹è½ä¸‹çš„æ•ˆæœ
      }
    });

    // å¦‚æœä½ æƒ³åœ¨é é¢è¼‰å…¥æ™‚ç«‹åˆ»ç”¢ç”Ÿå¹¾é¡†è‰è“ï¼ˆæ›´å¯†é›†ï¼‰ï¼Œå–æ¶ˆä¸‹é¢æ³¨è§£
    // for(let i=0;i<6;i++){ setTimeout(makeFallingStrawberry, i*120); }

    // Expose helper to console (æ–¹ä¾¿ä½ åœ¨é–‹ç™¼è€…å·¥å…·æ‰‹å‹•èª¿æ•´)
    window._strawberryHelpers = {
      makeFallingStrawberry,
      startRain,
      stopRain,
      setDensity(ms){ SPAWN_INTERVAL_MS = ms; stopRain(); startRain(); }
    };
  </script>
</body>
</html>
